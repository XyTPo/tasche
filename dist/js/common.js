window.onscroll=function(){var e=document.querySelector(".fixed-head"),t=document.querySelector(".location");window.pageYOffset>75?(e.classList.add("header-fixed"),t.classList.add("list-padding")):(e.classList.remove("header-fixed"),t.classList.remove("list-padding"))},$(function(){function e(){$(this).toggleClass("active"),$(".level-1").not($(this).next()).slideUp(),$(this).next().slideToggle()}function t(e){return e%1!=0&&(e=e.toFixed(2)),e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}if($(document).mouseup(function(e){var t=$(".sorting-sale"),i=$(".hidden-sale");t.is(e.target)||0!==t.has(e.target).length||(i.slideUp(),t.removeClass("open-sorting"))}),$(document).mouseup(function(e){var t=$(".sorting-sum"),i=$(".hidden-sum");t.is(e.target)||0!==t.has(e.target).length||(i.slideUp(),t.removeClass("open-sorting"))}),$(".filter__name").click(function(e){e.preventDefault,$(this).toggleClass("angle-down"),$(this).next().slideToggle()}),$(".main-category").on("click",e),$(".catalog-list__items").mouseover(function(){$(this).find(".catalog-list__hidden-menu").addClass("active-hidden-menu"),$(this).mouseout(function(){$(".catalog-list__hidden-menu").removeClass("active-hidden-menu")})}),$(".catalog-list__hidden-menu").mouseover(function(){$(this).addClass("active-hidden-menu")}),$(".shop-cart").mouseover(function(){$(".opened-sc").addClass("db")}),$(".shop-cart").mouseout(function(){$(".opened-sc").removeClass("db")}),$(".opened-sc").mouseover(function(){$(".opened-sc").addClass("db")}),$(".opened-sc").mouseout(function(){$(".opened-sc").removeClass("db")}),$(".sorting-sale").click(function(e){e.preventDefault,$(this).toggleClass("open-sorting"),$(".hidden-sale").slideToggle()}),$(".sorting-sum").click(function(e){e.preventDefault,$(this).toggleClass("open-sorting"),$(".hidden-sum").slideToggle()}),$(".region__city").click(function(e){e.preventDefault;var t=$(".city-window");t.hasClass("city-open")?t.removeClass("city-open"):($(this).parent().hasClass("region")?t.removeAttr("style"):t.css("top",$(window).scrollTop()+120),t.addClass("city-open")),$(".overley").toggleClass("overley-open")}),$(".city-window__closed").click(function(e){$(".city-window").toggleClass("city-open"),$(".overley").toggleClass("overley-open"),e.preventDefault()}),$(".custom-checkbox").change(function(){$(this).children(".custom-check").toggleClass("hoba")}),$(".burger-menu-btn").on("click",function(e){e.preventDefault,$(".main-sidebar").toggleClass("active-sidebar"),$("body").addClass("no-scroll")}),$(".fa-times").on("click",function(e){e.preventDefault,$(".main-sidebar").toggleClass("active-sidebar"),$("body").removeClass("no-scroll")}),$("main").on("click",function(e){var t=$(".main-sidebar");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("active-sidebar"),$("body").removeClass("no-scroll"))}),$(".polzunok-5").slider({min:0,max:15e3,values:[1e3,8e3],range:!0,animate:"fast",slide:function(e,t){$(".polzunok-input-5-left").val(t.values[0]),$(".polzunok-input-5-right").val(t.values[1])}}),$(".polzunok-input-5-left").val($(".polzunok-5").slider("values",0)),$(".polzunok-input-5-right").val($(".polzunok-5").slider("values",1)),$(document).focusout(function(){if($(".polzunok-5").length){var e=$(".polzunok-input-5-left").val().replace(/[^0-9]/g,""),t=$(".polzunok-5").slider("option","min"),i=$(".polzunok-5").slider("values",1),s=$(".polzunok-input-5-right").val().replace(/[^0-9]/g,""),n=$(".polzunok-5").slider("option","max"),o=$(".polzunok-5").slider("values",0);e>i&&(e=i),e<t&&(e=t),""==e&&(e=0),s<o&&(s=o),s>n&&(s=n),""==s&&(s=0),$(".polzunok-input-5-left").val(e),$(".polzunok-input-5-right").val(s),$(".polzunok-5").slider("values",[e,s])}}),$(".mobile-phones-icon").click(function(e){e.preventDefault,$(".mobile-phones-hidden").toggleClass("mobile-phones-hidden-active")}),$(document).mouseup(function(e){var t=$(".mobile-phones-hidden");0===t.has(e.target).length&&t.removeClass("mobile-phones-hidden-active")}),$(".products-icons__list").on("click",function(e){e.preventDefault(),$(this).toggleClass("products-icons__list-active")}),$(".products-icons__heart").on("click",function(e){e.preventDefault(),$(this).toggleClass("products-icons__heart-active")}),$(".colors-pic").on("click",function(){$(this).closest(".products-wrap").find(".product-img").removeClass("ch-img").eq($(this).index()).addClass("ch-img"),$(this).closest(".products-wrap").find(".colors-pic").removeClass("colors-pic-active").eq($(this).index()).addClass("colors-pic-active")}),$(".pid__thumbnails-more").click(function(e){$(this).parent().siblings(".pid__thumbnails").addClass("show-all"),e.preventDefault()}),$(".pcs__title-label").click(function(e){var t=$(this).parents(".pcs__title-col"),i=t.index(),s=$(this).parents(".pcs__wrap").find(".pcs__col");t.addClass("active").siblings().removeClass("active"),s.eq(i).addClass("active").siblings().removeClass("active"),e.preventDefault()}),$(".ranking-stars").each(function(){if($(this).hasClass("js-interactive")){var e,t,i=$(this),s=i.find(".ranking-stars__icon");s.hover(function(){e=i.attr("data-rating")||0,t=$(this).index()+1,i.attr("data-rating",""+t).removeClass("clicked")},function(){i.hasClass("clicked")||i.attr("data-rating",e)}),s.click(function(){i.attr("data-rating",""+t).addClass("clicked")})}}),$(".psg__slider").length&&$(".psg__slider").owlCarousel({loop:!0,nav:!0,margin:0,responsiveClass:!0,navText:["",""],responsive:{0:{items:2},1346:{items:3},1451:{items:4}}}),$(".prv__slider").length&&$(".prv__slider").owlCarousel({loop:!0,nav:!0,margin:0,responsiveClass:!0,navText:["",""],responsive:{0:{items:3,nav:!1},768:{items:3},993:{items:4},1346:{items:6},1451:{items:7},1700:{items:8}}}),$(".pid__slider").length){var i=$(".pid__slider");i.owlCarousel({loop:!1,nav:!1,margin:0,navText:["",""],mouseDrag:!1,touchDrag:!0,items:1}),$(".pid__thumbnails-item").click(function(e){var t=$(this).index();$(".pid__slider").trigger("to.owl.carousel",[t,200,!0]),e.preventDefault()})}$(".itmc__inc, .itmc__dec").click(function(){var e=$(this).siblings(".itmc__amount"),t=parseInt(e.text()),i=$(this).parent().data("max-value");$(this).hasClass("itmc__inc")?t<i&&t++:t>1&&t--,e.text(t),$(this).parents(".gcb-table").length&&$(this).parents(".gcb-table").trigger("cart:recount")}),$(".gcb-table").on("cart:recount",function(){var e=0,i=$(this).find(".gcb-item");i.each(function(){var i=parseInt($(this).find(".itmc__amount").text()),s=parseFloat($(this).find(".gcb-item__price-regular .digits").text().replace(/\s+/g,"")),n=s*i;$(this).find(".gcb-item__price-total .digits").text(t(n)),e+=n}),$(this).find(".gcb-total__price-value .digits").text(t(e))}),$(".gobi__radio-item").click(function(e){$(this).hasClass("active")||$(this).addClass("active").siblings().removeClass("active"),e.preventDefault()}),$(".gob-terms__icon").click(function(e){$(this).parent().toggleClass("active"),e.preventDefault()}),$(".gdb-map__type-switch-trigger").click(function(e){if(!$(this).hasClass("active")){var t=$(this).parent(),i=t.index(),s=$(".gdb-map__content-item");t.siblings().find(".gdb-map__type-switch-trigger").removeClass("active"),s.removeClass("active"),$(this).addClass("active"),s.eq(i).addClass("active")}e.preventDefault()}),$(".uoi-paysystem__choice").each(function(){var e=function(e){var t=e[0],i=!1;if(document.createEvent){var s=document.createEvent("MouseEvents");s.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i=t.dispatchEvent(s)}else t.fireEvent&&(i=t.fireEvent("onmousedown"));console.log(t,i)},t=$(this),i=t.find(".uoi-paysystem__trigger"),s=t.find(".uoi-paysystem__select");i.click(function(){t.addClass("active"),e(s)}),s.change(function(){i.html($(this).find("option:selected").text()),t.removeClass("active")})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbnNjcm9sbCIsImhlYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImxpc3QiLCJwYWdlWU9mZnNldCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIiQiLCJmX2FjYyIsInRoaXMiLCJ0b2dnbGVDbGFzcyIsIm5vdCIsIm5leHQiLCJzbGlkZVVwIiwic2xpZGVUb2dnbGUiLCJhZGRHYXBUb051bWJlciIsIm51bSIsInRvRml4ZWQiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJtb3VzZXVwIiwiZSIsInJlIiwicnkiLCJpcyIsInRhcmdldCIsImhhcyIsImxlbmd0aCIsInJlbW92ZUNsYXNzIiwicmkiLCJybyIsImNsaWNrIiwicHJldmVudERlZmF1bHQiLCJvbiIsIm1vdXNlb3ZlciIsImZpbmQiLCJhZGRDbGFzcyIsIm1vdXNlb3V0IiwiY2l0aWVzUG9wdXAiLCJoYXNDbGFzcyIsInBhcmVudCIsInJlbW92ZUF0dHIiLCJjc3MiLCJzY3JvbGxUb3AiLCJjaGFuZ2UiLCJjaGlsZHJlbiIsImRpdiIsInNsaWRlciIsIm1pbiIsIm1heCIsInZhbHVlcyIsInJhbmdlIiwiYW5pbWF0ZSIsInNsaWRlIiwiZXZlbnQiLCJ1aSIsInZhbCIsImZvY3Vzb3V0IiwiaW5wdXRfbGVmdCIsIm9wdF9sZWZ0Iiwid2hlcmVfcmlnaHQiLCJpbnB1dF9yaWdodCIsIm9wdF9yaWdodCIsIndoZXJlX2xlZnQiLCJjb250YWluZXIiLCJjbG9zZXN0IiwiZXEiLCJpbmRleCIsInNpYmxpbmdzIiwidGl0bGVDb2wiLCJwYXJlbnRzIiwidGl0bGVDb2xJbmRleCIsImNvbnRlbnRDb2wiLCJlYWNoIiwiclN0YXJzQ3VycmVudCIsInJTdGFyc1RhcmdldCIsInJTdGFyc1BhcmVudCIsInJTdGFycyIsImhvdmVyIiwiYXR0ciIsIm93bENhcm91c2VsIiwibG9vcCIsIm5hdiIsIm1hcmdpbiIsInJlc3BvbnNpdmVDbGFzcyIsIm5hdlRleHQiLCJyZXNwb25zaXZlIiwiMCIsIml0ZW1zIiwiMTM0NiIsIjE0NTEiLCI3NjgiLCI5OTMiLCIxNzAwIiwicGlkT3dsIiwibW91c2VEcmFnIiwidG91Y2hEcmFnIiwidHJpZ2dlciIsImFtb3VudEJsb2NrIiwiYW1vdW50IiwicGFyc2VJbnQiLCJ0ZXh0IiwibWF4QW1vdW50IiwiZGF0YSIsImNhcnRUb3RhbFByaWNlIiwiY2FydFJvdyIsInNpbmdsZVByaWNlIiwicGFyc2VGbG9hdCIsInJvd1RvdGFsUHJpY2UiLCJwYXJlbnRJdGVtIiwiaW5kIiwibWFwQmxvY2tDb250ZW50Iiwib3BlblNlbGVjdCIsInNlbGVjdG9yIiwiZWxlbWVudCIsIndvcmtlZCIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZmlyZUV2ZW50IiwiY29uc29sZSIsImxvZyIsImNob2ljZVBhcmVudCIsImNob2ljZVRyaWdnZXIiLCJjaG9pY2VTZWxlY3QiLCJodG1sIl0sIm1hcHBpbmdzIjoiQUFDQUEsT0FBT0MsU0FBVyxXQUNkLEdBQUlDLEdBQVNDLFNBQVNDLGNBQWMsZUFDaENDLEVBQU9GLFNBQVNDLGNBQWMsWUFFL0JKLFFBQU9NLFlBQWMsSUFDcEJKLEVBQU9LLFVBQVVDLElBQUksZ0JBQ3JCSCxFQUFLRSxVQUFVQyxJQUFJLGtCQUVuQk4sRUFBT0ssVUFBVUUsT0FBTyxnQkFDeEJKLEVBQUtFLFVBQVVFLE9BQU8sa0JBSzlCQyxFQUFFLFdBZ0NELFFBQVNDLEtBQ1JELEVBQUVFLE1BQU1DLFlBQVksVUFDcEJILEVBQUUsWUFBWUksSUFBSUosRUFBRUUsTUFBTUcsUUFBUUMsVUFDbENOLEVBQUVFLE1BQU1HLE9BQU9FLGNBeVJoQixRQUFTQyxHQUFlQyxHQUl2QixNQUhJQSxHQUFNLEdBQUssSUFDZEEsRUFBTUEsRUFBSUMsUUFBUSxJQUVaRCxFQUFJRSxXQUFXQyxRQUFRLDBCQUEyQixPQW5DdkQsR0EzUkhaLEVBQUVQLFVBQVVvQixRQUFRLFNBQVVDLEdB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c0UsR0FBYXRHLEVBQUVFLE1BQU0rQixTQUNyQnNFLEVBQU1ELEVBQVcxQyxRQUNqQjRDLEVBQWtCeEcsRUFBRSx5QkFDeEJzRyxHQUFXekMsV0FBV2pDLEtBQUssaUNBQWlDUCxZQUFZLFVBQ3hFbUYsRUFBZ0JuRixZQUFZLFVBQzVCckIsRUFBRUUsTUFBTTJCLFNBQVMsVUFDakIyRSxFQUFnQjdDLEdBQUc0QyxHQUFLMUUsU0FBUyxVQUVyQ2YsRUFBRVcsbUJBRU56QixFQUFFLDBCQUEwQmtFLEtBQUssV0FDN0IsR0FBSXVDLEdBQWEsU0FBU0MsR0FDdEIsR0FBSUMsR0FBVUQsRUFBUyxHQUFJRSxHQUFTLENBQ3BDLElBQUluSCxTQUFTb0gsWUFBYSxDQUN0QixHQUFJL0YsR0FBSXJCLFNBQVNvSCxZQUFZLGNBQzdCL0YsR0FBRWdHLGVBQWUsYUFBYSxHQUFNLEVBQU14SCxPQUFRLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBRyxHQUFPLEdBQU8sR0FBTyxFQUFPLEVBQUcsTUFDaEdzSCxFQUFTRCxFQUFRSSxjQUFjakcsT0FDeEI2RixHQUFRSyxZQUNmSixFQUFTRCxFQUFRSyxVQUFVLGVBRS9CQyxTQUFRQyxJQUFJUCxFQUFTQyxJQUVyQk8sRUFBZW5ILEVBQUVFLE1BQ2pCa0gsRUFBZ0JELEVBQWF2RixLQUFLLDJCQUNsQ3lGLEVBQWVGLEVBQWF2RixLQUFLLHlCQUNyQ3dGLEdBQWM1RixNQUFNLFdBQ2hCMkYsRUFBYXRGLFNBQVMsVUFDdEI0RSxFQUFXWSxLQUVmQSxFQUFhaEYsT0FBTyxXQUNoQitFLEVBQWNFLEtBQUt0SCxFQUFFRSxNQUFNMEIsS0FBSyxtQkFBbUJrRSxRQUNuRHFCLEVBQWE5RixZQUFZIiwiZmlsZSI6ImNvbW1vbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vINCf0LvQsNCy0LDRjtGJ0LDRjyDRiNCw0L/QutCwINC4INCx0L7QutC+0LLQvtC1INC80LXQvdGOXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uIHNob3dIZWFkZXIoKSB7XHJcbiAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpeGVkLWhlYWQnKTtcclxuICAgIHZhciBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvY2F0aW9uJyk7XHJcblxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ID4gNzUpe1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXItZml4ZWQnKTtcclxuICAgICAgICBsaXN0LmNsYXNzTGlzdC5hZGQoJ2xpc3QtcGFkZGluZycpO1xyXG4gICAgfSBlbHNle1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdoZWFkZXItZml4ZWQnKTtcclxuICAgICAgICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2xpc3QtcGFkZGluZycpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuXHQvLyDQodC60YDRi9GC0LjQtSDQv9C10YDQstC+0Lkg0YHQvtGA0YLQuNGA0L7QstC60Lgg0L/QviDQutC70LjQutGDINC90LAg0LvRjtCx0YPRjiDQvtCx0LvQsNGB0YLRjFxyXG5cdCQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKGUpe1xyXG5cdFx0dmFyIHJlID0gJChcIi5zb3J0aW5nLXNhbGVcIik7XHJcblx0XHR2YXIgcnkgPSAkKFwiLmhpZGRlbi1zYWxlXCIpO1xyXG5cdFx0aWYgKCFyZS5pcyhlLnRhcmdldClcclxuXHRcdCAgICAmJiByZS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyeS5zbGlkZVVwKCk7XHJcblx0XHRcdHJlLnJlbW92ZUNsYXNzKFwib3Blbi1zb3J0aW5nXCIpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdFxyXG5cdC8vINCh0LrRgNGL0YLQuNC1INCy0YLQvtGA0L7QuSDRgdC+0YDRgtC40YDQvtCy0LrQuCDQv9C+INC60LvQuNC60YMg0L3QsCDQu9GO0LHRg9GOINC+0LHQu9Cw0YHRgtGMXHJcblx0JChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbiAoZSl7XHJcblx0XHR2YXIgcmkgPSAkKFwiLnNvcnRpbmctc3VtXCIpO1xyXG5cdFx0dmFyIHJvID0gJChcIi5oaWRkZW4tc3VtXCIpO1xyXG5cdFx0aWYgKCFyaS5pcyhlLnRhcmdldClcclxuXHRcdCAgICAmJiByaS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyby5zbGlkZVVwKCk7XHJcblx0XHRcdHJpLnJlbW92ZUNsYXNzKFwib3Blbi1zb3J0aW5nXCIpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvL9CQ0LrQutC+0YDQtNC40L7QvSDRhNC40LvRjNGC0YDQvtCyXHJcblx0JCgnLmZpbHRlcl9fbmFtZScpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdCQodGhpcykudG9nZ2xlQ2xhc3MoJ2FuZ2xlLWRvd24nKTtcclxuXHRcdCQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKCk7XHJcblx0fSk7XHJcblxyXG5cdC8v0JDQutC60L7RgNC00LXQvtC9INCx0L7QutC+0LLQvtCz0L4g0LzQtdC90Y5cclxuXHQkKCcubWFpbi1jYXRlZ29yeScpLm9uKCdjbGljaycsIGZfYWNjKTtcclxuXHRmdW5jdGlvbiBmX2FjYygpe1xyXG5cdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKCcubGV2ZWwtMScpLm5vdCgkKHRoaXMpLm5leHQoKSkuc2xpZGVVcCgpO1xyXG5cdFx0JCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoKTtcclxuXHR9O1xyXG5cclxuXHQvLyDQktGB0L/Qu9GL0LLQsNGO0YnQuNC1INC80LXQvdGOXHJcblx0JCgnLmNhdGFsb2ctbGlzdF9faXRlbXMnKS5tb3VzZW92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdCQodGhpcykuZmluZCgnLmNhdGFsb2ctbGlzdF9faGlkZGVuLW1lbnUnKS5hZGRDbGFzcygnYWN0aXZlLWhpZGRlbi1tZW51Jyk7XHJcblx0XHQkKHRoaXMpLm1vdXNlb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdCQoJy5jYXRhbG9nLWxpc3RfX2hpZGRlbi1tZW51JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1oaWRkZW4tbWVudScpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdCQoJy5jYXRhbG9nLWxpc3RfX2hpZGRlbi1tZW51JykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUtaGlkZGVuLW1lbnUnKTtcclxuXHR9KVxyXG5cclxuXHQvLyDQn9C+0Y/QstC70LXQvdC40LUg0LrQvtGA0LfQuNC90YtcclxuXHQkKCcuc2hvcC1jYXJ0JykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHQkKCcub3BlbmVkLXNjJykuYWRkQ2xhc3MoJ2RiJyk7XHJcblx0fSk7XHJcblxyXG5cdCQoJy5zaG9wLWNhcnQnKS5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0JCgnLm9wZW5lZC1zYycpLnJlbW92ZUNsYXNzKCdkYicpO1xyXG5cdH0pO1xyXG5cclxuXHQkKCcub3BlbmVkLXNjJykubW91c2VvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHQkKCcub3BlbmVkLXNjJykuYWRkQ2xhc3MoJ2RiJyk7XHJcblx0fSk7XHJcblxyXG5cdCQoJy5vcGVuZWQtc2MnKS5tb3VzZW91dChmdW5jdGlvbigpe1xyXG5cdFx0JCgnLm9wZW5lZC1zYycpLnJlbW92ZUNsYXNzKCdkYicpO1xyXG5cdH0pO1xyXG5cclxuXHQkKCcuc29ydGluZy1zYWxlJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0O1xyXG5cdFx0JCh0aGlzKS50b2dnbGVDbGFzcygnb3Blbi1zb3J0aW5nJyk7XHJcblx0XHQkKCcuaGlkZGVuLXNhbGUnKS5zbGlkZVRvZ2dsZSgpO1xyXG5cdH0pO1xyXG5cclxuXHQkKCcuc29ydGluZy1zdW0nKS5jbGljayhmdW5jdGlvbihlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQ7XHJcblx0XHQkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvcGVuLXNvcnRpbmcnKTtcclxuXHRcdCQoJy5oaWRkZW4tc3VtJykuc2xpZGVUb2dnbGUoKTtcclxuXHR9KTtcclxuXHJcblx0JCgnLnJlZ2lvbl9fY2l0eScpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdHZhciBjaXRpZXNQb3B1cCA9ICQoJy5jaXR5LXdpbmRvdycpO1xyXG5cdFx0aWYgKGNpdGllc1BvcHVwLmhhc0NsYXNzKCdjaXR5LW9wZW4nKSkge1xyXG5cdFx0XHRjaXRpZXNQb3B1cC5yZW1vdmVDbGFzcygnY2l0eS1vcGVuJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZighJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygncmVnaW9uJykpe1xyXG5cdFx0XHRcdGNpdGllc1BvcHVwLmNzcygndG9wJywgJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgMTIwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjaXRpZXNQb3B1cC5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcblx0XHRcdH1cclxuXHRcdFx0Y2l0aWVzUG9wdXAuYWRkQ2xhc3MoJ2NpdHktb3BlbicpO1xyXG5cdFx0fVxyXG5cdFx0JCgnLm92ZXJsZXknKS50b2dnbGVDbGFzcygnb3ZlcmxleS1vcGVuJyk7XHJcblxyXG5cdH0pO1xyXG5cclxuXHQkKCcuY2l0eS13aW5kb3dfX2Nsb3NlZCcpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG5cdFx0JCgnLmNpdHktd2luZG93JykudG9nZ2xlQ2xhc3MoJ2NpdHktb3BlbicpO1xyXG5cdFx0JCgnLm92ZXJsZXknKS50b2dnbGVDbGFzcygnb3ZlcmxleS1vcGVuJyk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyDQlNC10LnRgdGC0LLQuNGPINCn0LXQutCx0L7QutGB0L7QslxyXG5cdCQoJy5jdXN0b20tY2hlY2tib3gnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcclxuXHRcdCQodGhpcykuY2hpbGRyZW4oJy5jdXN0b20tY2hlY2snKS50b2dnbGVDbGFzcygnaG9iYScpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyDQn9C+0Y/QstC70LXQvdC40LUg0Lgg0LfQsNC60YDRi9GC0LjQtSDQsdC+0LrQvtCy0L7Qs9C+INC80LXQvdGOXHJcblx0JCgnLmJ1cmdlci1tZW51LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdCQoJy5tYWluLXNpZGViYXInKS50b2dnbGVDbGFzcygnYWN0aXZlLXNpZGViYXInKTtcclxuXHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnbm8tc2Nyb2xsJyk7XHJcblx0fSk7XHJcblxyXG5cdCQoJy5mYS10aW1lcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdDtcclxuXHRcdCQoJy5tYWluLXNpZGViYXInKS50b2dnbGVDbGFzcygnYWN0aXZlLXNpZGViYXInKTtcclxuXHRcdCQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XHJcblx0fSk7XHJcblxyXG5cdCQoJ21haW4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSl7IC8vINGB0L7QsdGL0YLQuNC1INC60LvQuNC60LAg0L/QviDQstC10LEt0LTQvtC60YPQvNC10L3RgtGDXHJcblx0XHR2YXIgZGl2ID0gJChcIi5tYWluLXNpZGViYXJcIik7IC8vINGC0YPRgiDRg9C60LDQt9GL0LLQsNC10LwgSUQg0Y3Qu9C10LzQtdC90YLQsFxyXG5cdFx0aWYgKCFkaXYuaXMoZS50YXJnZXQpIC8vINC10YHQu9C4INC60LvQuNC6INCx0YvQuyDQvdC1INC/0L4g0L3QsNGI0LXQvNGDINCx0LvQvtC60YNcclxuXHRcdCAgICAmJiBkaXYuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHsgLy8g0Lgg0L3QtSDQv9C+INC10LPQviDQtNC+0YfQtdGA0L3QuNC8INGN0LvQtdC80LXQvdGC0LDQvFxyXG5cdFx0XHRkaXYucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1zaWRlYmFyJyk7IC8vINGB0LrRgNGL0LLQsNC10Lwg0LXQs9C+XHJcblx0XHRcdCQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJyk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdC8vINCh0LvQsNC50LTQtdGAINGG0LXQvdGLXHJcblx0JChcIi5wb2x6dW5vay01XCIpLnNsaWRlcih7XHJcblx0XHRtaW46IDAsXHJcblx0XHRtYXg6IDE1MDAwLFxyXG5cdFx0dmFsdWVzOiBbMTAwMCwgODAwMF0sXHJcblx0XHRyYW5nZTogdHJ1ZSxcclxuXHRcdGFuaW1hdGU6IFwiZmFzdFwiLFxyXG5cdFx0c2xpZGUgOiBmdW5jdGlvbihldmVudCwgdWkpIHsgICAgXHJcblx0XHRcdCQoXCIucG9senVub2staW5wdXQtNS1sZWZ0XCIpLnZhbCh1aS52YWx1ZXNbIDAgXSk7ICAgXHJcblx0XHRcdCQoXCIucG9senVub2staW5wdXQtNS1yaWdodFwiKS52YWwodWkudmFsdWVzWyAxIF0pOyAgXHJcblx0XHR9ICAgIFxyXG5cdH0pO1xyXG5cdCQoXCIucG9senVub2staW5wdXQtNS1sZWZ0XCIpLnZhbCgkKFwiLnBvbHp1bm9rLTVcIikuc2xpZGVyKFwidmFsdWVzXCIsIDApKTtcclxuXHQkKFwiLnBvbHp1bm9rLWlucHV0LTUtcmlnaHRcIikudmFsKCQoXCIucG9senVub2stNVwiKS5zbGlkZXIoXCJ2YWx1ZXNcIiwgMSkpO1xyXG5cdCQoZG9jdW1lbnQpLmZvY3Vzb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCQoJy5wb2x6dW5vay01JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dF9sZWZ0ID0gJChcIi5wb2x6dW5vay1pbnB1dC01LWxlZnRcIikudmFsKCkucmVwbGFjZSgvW14wLTldL2csICcnKSxcclxuICAgICAgICAgICAgICAgIG9wdF9sZWZ0ID0gJChcIi5wb2x6dW5vay01XCIpLnNsaWRlcihcIm9wdGlvblwiLCBcIm1pblwiKSxcclxuICAgICAgICAgICAgICAgIHdoZXJlX3JpZ2h0ID0gJChcIi5wb2x6dW5vay01XCIpLnNsaWRlcihcInZhbHVlc1wiLCAxKSxcclxuICAgICAgICAgICAgICAgIGlucHV0X3JpZ2h0ID0gJChcIi5wb2x6dW5vay1pbnB1dC01LXJpZ2h0XCIpLnZhbCgpLnJlcGxhY2UoL1teMC05XS9nLCAnJyksXHJcbiAgICAgICAgICAgICAgICBvcHRfcmlnaHQgPSAkKFwiLnBvbHp1bm9rLTVcIikuc2xpZGVyKFwib3B0aW9uXCIsIFwibWF4XCIpLFxyXG4gICAgICAgICAgICAgICAgd2hlcmVfbGVmdCA9ICQoXCIucG9senVub2stNVwiKS5zbGlkZXIoXCJ2YWx1ZXNcIiwgMCk7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dF9sZWZ0ID4gd2hlcmVfcmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0X2xlZnQgPSB3aGVyZV9yaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5wdXRfbGVmdCA8IG9wdF9sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dF9sZWZ0ID0gb3B0X2xlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0X2xlZnQgPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRfbGVmdCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0X3JpZ2h0IDwgd2hlcmVfbGVmdCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRfcmlnaHQgPSB3aGVyZV9sZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbnB1dF9yaWdodCA+IG9wdF9yaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRfcmlnaHQgPSBvcHRfcmlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlucHV0X3JpZ2h0ID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0X3JpZ2h0ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKFwiLnBvbHp1bm9rLWlucHV0LTUtbGVmdFwiKS52YWwoaW5wdXRfbGVmdCk7XHJcbiAgICAgICAgICAgICQoXCIucG9senVub2staW5wdXQtNS1yaWdodFwiKS52YWwoaW5wdXRfcmlnaHQpO1xyXG4gICAgICAgICAgICAkKFwiLnBvbHp1bm9rLTVcIikuc2xpZGVyKCBcInZhbHVlc1wiLCBbIGlucHV0X2xlZnQsIGlucHV0X3JpZ2h0IF0gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQodC/0LjRgdC+0Log0YLQtdC70LXRhNC+0L3QvtCyINC90LAg0LzQvtCxLiDRg9GB0YLRgNC+0LnRgdGC0LLQsNGFXHJcbiAgICAkKCcubW9iaWxlLXBob25lcy1pY29uJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdDtcclxuICAgICAgICAkKCcubW9iaWxlLXBob25lcy1oaWRkZW4nKS50b2dnbGVDbGFzcygnbW9iaWxlLXBob25lcy1oaWRkZW4tYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9ICQoXCIubW9iaWxlLXBob25lcy1oaWRkZW5cIik7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCl7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcygnbW9iaWxlLXBob25lcy1oaWRkZW4tYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0JDQutGC0LjQstC90L7RgdGC0Ywg0LjQutC+0L3QutC4INC6INGB0YDQsNCy0L3QtdC90LjRjlxyXG4gICAgJCgnLnByb2R1Y3RzLWljb25zX19saXN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygncHJvZHVjdHMtaWNvbnNfX2xpc3QtYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQkNC60YLQuNCy0L3QvtGB0YLRjCDQuNC60L7QvdC60Lgg0LIg0LjQt9Cx0YDQsNC90L3QvtC1XHJcbiAgICAkKCcucHJvZHVjdHMtaWNvbnNfX2hlYXJ0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygncHJvZHVjdHMtaWNvbnNfX2hlYXJ0LWFjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0KHQvNC10L3QsCDRhNC+0YLQvtCz0YDQsNGE0LjQuCDQuCDQv9C+0Y/QstC70LXQvdC40LUg0L7QsdCy0L7QtNC60Lgg0YMg0YbQstC10YLQsFxyXG4gICAgJCgnLmNvbG9ycy1waWMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcucHJvZHVjdHMtd3JhcCcpLmZpbmQoJy5wcm9kdWN0LWltZycpLnJlbW92ZUNsYXNzKFwiY2gtaW1nXCIpLmVxKCQodGhpcykuaW5kZXgoKSkuYWRkQ2xhc3MoXCJjaC1pbWdcIik7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcucHJvZHVjdHMtd3JhcCcpLmZpbmQoJy5jb2xvcnMtcGljJykucmVtb3ZlQ2xhc3MoXCJjb2xvcnMtcGljLWFjdGl2ZVwiKS5lcSgkKHRoaXMpLmluZGV4KCkpLmFkZENsYXNzKFwiY29sb3JzLXBpYy1hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnLnBpZF9fdGh1bWJuYWlscy1tb3JlJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygnLnBpZF9fdGh1bWJuYWlscycpLmFkZENsYXNzKCdzaG93LWFsbCcpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnBjc19fdGl0bGUtbGFiZWwnKS5jbGljayhmdW5jdGlvbihlKXtcclxuICAgICAgICB2YXIgdGl0bGVDb2wgPSAkKHRoaXMpLnBhcmVudHMoJy5wY3NfX3RpdGxlLWNvbCcpO1xyXG4gICAgICAgIHZhciB0aXRsZUNvbEluZGV4ID0gdGl0bGVDb2wuaW5kZXgoKTtcclxuICAgICAgICB2YXIgY29udGVudENvbCA9ICQodGhpcykucGFyZW50cygnLnBjc19fd3JhcCcpLmZpbmQoJy5wY3NfX2NvbCcpO1xyXG4gICAgICAgIHRpdGxlQ29sLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBjb250ZW50Q29sLmVxKHRpdGxlQ29sSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgICQoJy5yYW5raW5nLXN0YXJzJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2pzLWludGVyYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgdmFyIHJTdGFyc1BhcmVudCA9ICQodGhpcyksIHJTdGFycyA9ICByU3RhcnNQYXJlbnQuZmluZCgnLnJhbmtpbmctc3RhcnNfX2ljb24nKSwgclN0YXJzQ3VycmVudCwgclN0YXJzVGFyZ2V0O1xyXG4gICAgICAgICAgICByU3RhcnMuaG92ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByU3RhcnNDdXJyZW50ID0gclN0YXJzUGFyZW50LmF0dHIoXCJkYXRhLXJhdGluZ1wiKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgclN0YXJzVGFyZ2V0ID0gJCh0aGlzKS5pbmRleCgpKzE7XHJcbiAgICAgICAgICAgICAgICByU3RhcnNQYXJlbnQuYXR0cihcImRhdGEtcmF0aW5nXCIsIFwiXCIgKyByU3RhcnNUYXJnZXQpLnJlbW92ZUNsYXNzKFwiY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByU3RhcnNQYXJlbnQuaGFzQ2xhc3MoXCJjbGlja2VkXCIpIHx8IHJTdGFyc1BhcmVudC5hdHRyKFwiZGF0YS1yYXRpbmdcIiwgclN0YXJzQ3VycmVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByU3RhcnMuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByU3RhcnNQYXJlbnQuYXR0cihcImRhdGEtcmF0aW5nXCIsIFwiXCIgKyByU3RhcnNUYXJnZXQpLmFkZENsYXNzKFwiY2xpY2tlZFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZigkKCcucHNnX19zbGlkZXInKS5sZW5ndGgpe1xyXG4gICAgICAgICQoJy5wc2dfX3NsaWRlcicpLm93bENhcm91c2VsKHtcclxuICAgICAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgICAgICBuYXY6dHJ1ZSxcclxuICAgICAgICAgICAgbWFyZ2luOjAsXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmVDbGFzczp0cnVlLFxyXG4gICAgICAgICAgICBuYXZUZXh0OiBbJycsJyddLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlOntcclxuICAgICAgICAgICAgICAgIDA6e1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOjJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAxMzQ2OntcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczozXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgMTQ1MTp7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6NFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGlmKCQoJy5wcnZfX3NsaWRlcicpLmxlbmd0aCl7XHJcbiAgICAgICAgJCgnLnBydl9fc2xpZGVyJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgICAgIG5hdjp0cnVlLFxyXG4gICAgICAgICAgICBtYXJnaW46MCxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZUNsYXNzOnRydWUsXHJcbiAgICAgICAgICAgIG5hdlRleHQ6IFsnJywnJ10sXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgICAgICAgICAgMDp7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6MyxcclxuICAgICAgICAgICAgICAgICAgICBuYXY6ZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA3Njg6e1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOjNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA5OTM6e1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOjRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAxMzQ2OntcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczo2XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgMTQ1MTp7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6N1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIDE3MDA6e1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOjhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYoJCgnLnBpZF9fc2xpZGVyJykubGVuZ3RoKXtcclxuICAgICAgICB2YXIgcGlkT3dsID0gJCgnLnBpZF9fc2xpZGVyJyk7XHJcbiAgICAgICAgcGlkT3dsLm93bENhcm91c2VsKHtcclxuICAgICAgICAgICAgbG9vcDpmYWxzZSxcclxuICAgICAgICAgICAgbmF2OmZhbHNlLFxyXG4gICAgICAgICAgICBtYXJnaW46MCxcclxuICAgICAgICAgICAgbmF2VGV4dDogWycnLCcnXSxcclxuICAgICAgICAgICAgbW91c2VEcmFnOiBmYWxzZSxcclxuICAgICAgICAgICAgdG91Y2hEcmFnOiB0cnVlLFxyXG4gICAgICAgICAgICBpdGVtczoxLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJCgnLnBpZF9fdGh1bWJuYWlscy1pdGVtJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcclxuICAgICAgICAgICAgJCgnLnBpZF9fc2xpZGVyJykudHJpZ2dlcigndG8ub3dsLmNhcm91c2VsJywgW2luZGV4LCAyMDAsIHRydWVdKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cdCQoJy5pdG1jX19pbmMsIC5pdG1jX19kZWMnKS5jbGljayhmdW5jdGlvbigpe1xyXG5cdFx0dmFyIGFtb3VudEJsb2NrID0gJCh0aGlzKS5zaWJsaW5ncygnLml0bWNfX2Ftb3VudCcpO1xyXG5cdFx0dmFyIGFtb3VudCA9IHBhcnNlSW50KGFtb3VudEJsb2NrLnRleHQoKSk7XHJcblx0XHR2YXIgbWF4QW1vdW50ID0gJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCdtYXgtdmFsdWUnKTtcclxuXHRcdGlmKCQodGhpcykuaGFzQ2xhc3MoJ2l0bWNfX2luYycpKXtcclxuXHRcdFx0aWYgKGFtb3VudCA8IG1heEFtb3VudCkgYW1vdW50Kys7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoYW1vdW50ID4gMSkgYW1vdW50LS07XHJcblx0XHR9XHJcblx0XHRhbW91bnRCbG9jay50ZXh0KGFtb3VudCk7XHJcblx0XHRpZigkKHRoaXMpLnBhcmVudHMoJy5nY2ItdGFibGUnKS5sZW5ndGgpIHtcclxuXHRcdFx0JCh0aGlzKS5wYXJlbnRzKCcuZ2NiLXRhYmxlJykudHJpZ2dlcignY2FydDpyZWNvdW50JylcclxuXHRcdH1cclxuXHR9KTtcclxuXHRmdW5jdGlvbiBhZGRHYXBUb051bWJlcihudW0pe1x0XHRcclxuXHRcdGlmIChudW0gJSAxICE9IDApIHtcclxuXHRcdFx0bnVtID0gbnVtLnRvRml4ZWQoMik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxcZCkoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnJDEgJylcclxuXHR9XHJcblx0JCgnLmdjYi10YWJsZScpLm9uKCdjYXJ0OnJlY291bnQnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY2FydFRvdGFsUHJpY2UgPSAwO1xyXG5cdFx0dmFyIGNhcnRSb3cgPSAkKHRoaXMpLmZpbmQoJy5nY2ItaXRlbScpO1xyXG5cdFx0Y2FydFJvdy5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBhbW91bnQgPSBwYXJzZUludCgkKHRoaXMpLmZpbmQoJy5pdG1jX19hbW91bnQnKS50ZXh0KCkpO1xyXG5cdFx0XHR2YXIgc2luZ2xlUHJpY2UgPSBwYXJzZUZsb2F0KCQodGhpcykuZmluZCgnLmdjYi1pdGVtX19wcmljZS1yZWd1bGFyIC5kaWdpdHMnKS50ZXh0KCkucmVwbGFjZSgvXFxzKy9nLCcnKSk7XHJcblx0XHRcdHZhciByb3dUb3RhbFByaWNlID0gc2luZ2xlUHJpY2UgKiBhbW91bnQ7XHJcblx0XHRcdCQodGhpcykuZmluZCgnLmdjYi1pdGVtX19wcmljZS10b3RhbCAuZGlnaXRzJykudGV4dChhZGRHYXBUb051bWJlcihyb3dUb3RhbFByaWNlKSk7XHJcblx0XHRcdGNhcnRUb3RhbFByaWNlICs9IHJvd1RvdGFsUHJpY2U7XHJcblx0XHR9KTtcclxuXHRcdCQodGhpcykuZmluZCgnLmdjYi10b3RhbF9fcHJpY2UtdmFsdWUgLmRpZ2l0cycpLnRleHQoYWRkR2FwVG9OdW1iZXIoY2FydFRvdGFsUHJpY2UpKTtcclxuXHR9KTtcclxuICAgICQoJy5nb2JpX19yYWRpby1pdGVtJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICBcdGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgXHRcdCQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0fVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmdvYi10ZXJtc19faWNvbicpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG4gICAgXHQkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgICQoJy5nZGItbWFwX190eXBlLXN3aXRjaC10cmlnZ2VyJykuY2xpY2soZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRJdGVtID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuICAgICAgICAgICAgdmFyIGluZCA9IHBhcmVudEl0ZW0uaW5kZXgoKTtcclxuICAgICAgICAgICAgdmFyIG1hcEJsb2NrQ29udGVudCA9ICQoJy5nZGItbWFwX19jb250ZW50LWl0ZW0nKTtcclxuICAgICAgICAgICAgcGFyZW50SXRlbS5zaWJsaW5ncygpLmZpbmQoJy5nZGItbWFwX190eXBlLXN3aXRjaC10cmlnZ2VyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBtYXBCbG9ja0NvbnRlbnQucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgbWFwQmxvY2tDb250ZW50LmVxKGluZCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgICQoJy51b2ktcGF5c3lzdGVtX19jaG9pY2UnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG9wZW5TZWxlY3QgPSBmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc2VsZWN0b3JbMF0sIHdvcmtlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHsgLy8gYWxsIGJyb3dzZXJzXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XHJcbiAgICAgICAgICAgICAgICBlLmluaXRNb3VzZUV2ZW50KFwibW91c2Vkb3duXCIsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgd29ya2VkID0gZWxlbWVudC5kaXNwYXRjaEV2ZW50KGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmlyZUV2ZW50KSB7IC8vIGllXHJcbiAgICAgICAgICAgICAgICB3b3JrZWQgPSBlbGVtZW50LmZpcmVFdmVudChcIm9ubW91c2Vkb3duXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQsIHdvcmtlZClcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNob2ljZVBhcmVudCA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIGNob2ljZVRyaWdnZXIgPSBjaG9pY2VQYXJlbnQuZmluZCgnLnVvaS1wYXlzeXN0ZW1fX3RyaWdnZXInKSxcclxuICAgICAgICAgICAgY2hvaWNlU2VsZWN0ID0gY2hvaWNlUGFyZW50LmZpbmQoJy51b2ktcGF5c3lzdGVtX19zZWxlY3QnKTtcclxuICAgICAgICBjaG9pY2VUcmlnZ2VyLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNob2ljZVBhcmVudC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIG9wZW5TZWxlY3QoY2hvaWNlU2VsZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjaG9pY2VTZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNob2ljZVRyaWdnZXIuaHRtbCgkKHRoaXMpLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnRleHQoKSk7XHJcbiAgICAgICAgICAgIGNob2ljZVBhcmVudC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7Il19
